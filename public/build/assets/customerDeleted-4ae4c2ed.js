import{_ as L,L as C,a as m,c as D,w as g,r as u,o as l,b as _,d as e,g as p,v as S,h as r,F as v,l as b,i as V,t as n,k as f,n as y,m as B,p as F,q as I}from"../js/app2.js";import{P as N}from"./page-header-48f5a59e.js";import{S as j}from"./sweetalert2.all-649b8bd9.js";import{L as Q}from"./loader-7b01d283.js";const z={components:{Layout:C,PageHeader:N,Loader:Q},data(){return{title:"لیست مشتریان حذف شده",items:[{text:"مشتری",href:"/"},{text:"مشتری",active:!0}],isLoading:!1,showModal:!1,searchQuery:"",customers:[],notFound:!1,limit:10,currentPage:1,totalPages:0}},mounted(){this.getCustomers()},methods:{showalert(s,o,i){j.fire({title:s,icon:o,confirmButtonText:i})},async getCustomers(s=1){var o;this.isLoading=!0;try{const i=await m.get(`/deletedcustomer?page=${s}&limit=${this.limit}`);this.customers=i.data.customers.data,this.totalPages=(o=i.data.customers)==null?void 0:o.last_page,this.currentPage=s}catch(i){console.error("Error fetching customers:",i)}finally{this.isLoading=!1}},prevPage(){this.currentPage>1&&this.getCustomers(this.currentPage-1)},nextPage(){this.currentPage<this.totalPages&&this.getCustomers(this.currentPage+1)},async searchData(){try{const s=await m.post("/searchdeletedcustomer",{query:this.searchQuery});this.customers=s.data,this.notFound=this.customers.length===0}catch(s){console.log(s.message)}}}},d=s=>(F("data-v-131d3f65"),s=s(),I(),s),H={class:"row"},M={class:"col-12"},T={class:"card h-100",style:{"min-height":"100vh"}},q={class:"card-body"},E={class:"row mb-2"},U={class:"col-sm-4 bg-red",style:{"margin-top":"-2px"}},A={class:"search-box me-2 mb-2 d-inline-block"},G={class:"position-relative"},J=d(()=>e("i",{class:"bx bx-search-alt search-icon"},null,-1)),K={key:0},O={key:1,class:"table-responsive"},R={class:"table table-centered table-nowrap"},W=d(()=>e("thead",null,[e("tr",null,[e("th",null,"آیدی"),e("th",null,"نام کامل"),e("th",null,"شماره مسلسل مشتری"),e("th",null,"شماره تماس"),e("th",null,"توضیحات"),e("th",null,"پروفایل کاربر"),e("th",null,"وضیعت"),e("th",null,"تغیر وضعیت")])],-1)),X=d(()=>e("i",{class:"mdi mdi-star me-1"},null,-1)),Y={for:"checkbox"},Z={key:0,class:"text-center font-size-20"},$={class:"pagination pagination-rounded justify-content-center mb-2",style:{}},ee={class:"page-item"},te=["disabled"],se=d(()=>e("i",{class:"mdi mdi-chevron-left"},null,-1)),oe=[se],ae={class:"page-link",href:"javascript: void(0);"},le={class:"page-item"},ne=["disabled"],ie=d(()=>e("i",{class:"mdi mdi-chevron-right"},null,-1)),re=[ie];function ce(s,o,i,de,a,c){const P=u("PageHeader"),k=u("Loader"),x=u("router-link"),w=u("Layout");return l(),D(w,null,{default:g(()=>[_(P,{title:a.title,items:a.items},null,8,["title","items"]),e("div",H,[e("div",M,[e("div",T,[e("div",q,[e("div",E,[e("div",U,[e("div",A,[e("div",G,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>a.searchQuery=t),placeholder:"جستجوی مشتری...",onInput:o[1]||(o[1]=(...t)=>c.searchData&&c.searchData(...t))},null,544),[[S,a.searchQuery]]),J])])])]),a.isLoading?(l(),r("div",K,[_(k)])):(l(),r("div",O,[e("table",R,[W,e("tbody",null,[(l(!0),r(v,null,b(a.customers,t=>(l(),r("tr",{key:t.id,style:{}},[e("td",null,n(t.id),1),e("td",null,n(t.name),1),e("td",null,n(t.cu_number),1),e("td",null,n(t.phone),1),e("td",null,n(t.desc),1),e("td",null,[_(x,{class:"btn btn-xs btn-primary",to:`/dashboard/customer/${t.id}`},{default:g(()=>[f("پروفایل")]),_:2},1032,["to"])]),e("td",null,[e("span",{class:y(["badge font-size-12",t.status===0?"bg-warning":"bg-primary"])},[X,f(" "+n(t.status),1)],2)]),e("td",null,[p(e("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":o[2]||(o[2]=h=>s.checked=h)},null,512),[[B,s.checked]]),e("label",Y,n(s.checked),1)])]))),128))])]),a.notFound?(l(),r("div",Z," نتیجه مورد نظر یافت نشد! ")):V("",!0),e("ul",$,[e("li",ee,[e("a",{class:"page-link",href:"javascript: void(0);","aria-label":"Previous",onClick:o[3]||(o[3]=(...t)=>c.prevPage&&c.prevPage(...t)),disabled:a.currentPage===1},oe,8,te)]),(l(!0),r(v,null,b(a.totalPages,(t,h)=>(l(),r("li",{class:y(["page-item",{active:t===a.currentPage}]),key:h},[e("a",ae,n(t),1)],2))),128)),e("li",le,[e("a",{class:"page-link",href:"javascript: void(0);","aria-label":"Next",onClick:o[4]||(o[4]=(...t)=>c.nextPage&&c.nextPage(...t)),disabled:a.currentPage===a.totalPages},re,8,ne)])])]))])])])])]),_:1})}const ge=L(z,[["render",ce],["__scopeId","data-v-131d3f65"]]);export{ge as default};
