import{_ as v,o as c,h as o,s as P,u as B,d as s,L as z,a as p,c as S,w as g,r as _,t as a,b as h,F as u,l as b,n as i}from"../js/app2.js";import{L as C}from"./loader-7b01d283.js";const j={name:"smallLoader"},f=e=>(P("data-v-21d29681"),e=e(),B(),e),D={class:"loader"},I=f(()=>s("div",{class:"spinner"},null,-1)),A=f(()=>s("p",{class:"loading-text"},"کمی صبر نمائید...",-1)),F=[I,A];function N(e,n,y,x,l,d){return c(),o("div",D,F)}const V=v(j,[["render",N],["__scopeId","data-v-21d29681"]]),$={components:{Layout:z,Loader:C,smallLoader:V},data(){return{title:"گزارشات",showModal:!1,bank_balance:[],currency_count:0,finance_count:0,isLoading:!1,allbalances:[],currentPage:1,totalPages:1,limit:10}},mounted(){},mounted(){this.getBanksBalance(),this.getAllBalances()},methods:{async getBanksBalance(e=1){this.isLoading=!0;try{const n=await p.get(`/bankbalance?page=${e}&limit=${this.limit}`);this.bank_balance=n.data.bank_balance.data,this.totalPages=n.data.bank_balance.last_page,this.currency_count=n.data.currency_counts,this.finance_count=n.data.financeAcc_count,this.currentPage=e}catch(n){console.log(n.message)}finally{this.isLoading=!1}},prevPage(){this.currentPage>1&&this.getBanksBalance(this.currentPage-1)},nextPage(){this.currentPage<this.totalPages&&this.getBanksBalance(this.currentPage+1)},gobankDesc(e){this.$router.push({name:"bankDetails",params:{id:e}})},async getAllBalances(){try{const e=await p.get("/getallbalances");this.allbalances=e.data}catch(e){console.log(e.message)}}}},E={class:"row"},M={class:"col-xl-12"},R={class:"row"},q={class:"col-md-4"},G={class:"card mini-stats-wid"},H={class:"card-body",style:{"min-height":"47vh"}},J={class:"d-flex"},K={class:"flex-grow-1"},O=s("p",{class:"text-muted fw-medium"},"تعداد حسابات",-1),Q={class:"mb-0"},T={class:"mini-stat-icon avatar-sm align-self-center rounded-circle bg-primary"},U=s("span",{class:"avatar-title"},[s("i",{class:"bx bx-copy-alt font-size-24"})],-1),W={class:"col-md-4"},X={class:"card mini-stats-wid",style:{"min-height":"47vh"}},Y={class:"card-body"},Z={class:"d-flex"},ss={class:"flex-grow-1"},ts=s("p",{class:"text-muted fw-medium"},"تعداد واحدات پولی",-1),es={class:"mb-0"},as={class:"mini-stat-icon avatar-sm align-self-center rounded-circle bg-primary"},ns=s("span",{class:"avatar-title"},[s("i",{class:"bx bx-archive-in font-size-24"})],-1),ls={class:"col-md-4"},cs={class:"card",style:{"min-height":"47vh"}},os={class:"d-flex"},is={class:"w-100"},ds={key:0},rs={key:1,class:"card text-center"},_s={class:"card-body"},hs=s("h4",{class:"card-titl badge font-size-20 text-center text-black-50"},"بیلانس",-1),gs={class:"table-responsive mb-0"},us={class:"table table-centered table-nowrap",style:{width:"100%"}},bs=s("thead",null,[s("tr",null,[s("th",null,"واحد"),s("th",null,"کل رسید "),s("th",null,"کل برداشتها"),s("th",null,"بیلانس")])],-1),ms={class:"row"},ps={class:"col-lg-12"},vs={class:"card",style:{"min-height":"100% !important"}},fs={class:"card-body"},ys=s("h4",{class:"card-title mb-4"},"جدول بانک ها",-1),xs={key:0},Ls={key:1},ks={class:"table-responsive mb-0"},ws={class:"table table-centered table-nowrap align-middle"},Ps=s("thead",{class:"table-light"},[s("tr",null,[s("th",{class:"align-middle"},"آیدی"),s("th",{class:"align-middle"},"نام حساب"),s("th",{class:"align-middle"},"واحدات پولی"),s("th",{class:"align-middle"},"تمام رسیدها"),s("th",{class:"align-middle"},"تمام بردها"),s("th",{class:"align-middle"},"بیلانس"),s("th",{class:"align-middle"})])],-1),Bs={style:{direction:"rtl !important"}},zs=["onClick"],Ss={class:"pagination pagination-rounded justify-content-center mb-2",style:{}},Cs={class:"page-item"},js=["disabled"],Ds=s("i",{class:"mdi mdi-chevron-left"},null,-1),Is=[Ds],As={class:"page-link",href:"javascript: void(0);"},Fs={class:"page-item"},Ns=["disabled"],Vs=s("i",{class:"mdi mdi-chevron-right"},null,-1),$s=[Vs];function Es(e,n,y,x,l,d){const m=_("router-link"),L=_("smallLoader"),k=_("Loader"),w=_("Layout");return c(),S(w,null,{default:g(()=>[s("div",E,[s("div",M,[s("div",R,[s("div",q,[s("div",G,[s("div",H,[s("div",J,[s("div",K,[O,s("h4",Q,a(l.finance_count),1)]),s("div",T,[h(m,{to:"/dashboard/currency"},{default:g(()=>[U]),_:1})])])])])]),s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[ts,s("h4",es,a(l.currency_count),1)]),s("div",as,[h(m,{to:"/dashboard/currency"},{default:g(()=>[ns]),_:1})])])])])]),s("div",ls,[s("div",cs,[s("div",os,[s("div",is,[l.isLoading?(c(),o("div",ds,[h(L)])):(c(),o("div",rs,[s("div",_s,[hs,s("div",gs,[s("div",null,[s("table",us,[bs,s("tbody",null,[(c(!0),o(u,null,b(l.allbalances,(t,r)=>(c(),o("tr",{key:r},[s("td",null,a(t.currency),1),s("td",null,[s("span",{class:i(["badge font-size-11",t.rasid>0?"bg-success":"bg-danger"])},a(t.rasid.toLocaleString()),3)]),s("td",null,[s("span",{class:i(["badge font-size-11",t.bord>0?"bg-success":"bg-danger"])},a(t.bord.toLocaleString()),3)]),s("td",null,[s("span",{class:i(["badge font-size-11",t.balance>0?"bg-success":"bg-danger"])},a(t.balance.toLocaleString()),3)])]))),128))])])])])])]))])])])])])])]),s("div",ms,[s("div",ps,[s("div",vs,[s("div",fs,[ys,l.isLoading?(c(),o("div",xs,[h(k)])):(c(),o("div",Ls,[s("div",ks,[s("table",ws,[Ps,s("tbody",null,[(c(!0),o(u,null,b(l.bank_balance,t=>(c(),o("tr",{key:t.id},[s("td",null,a(t.id),1),s("td",null,a(t.account_name),1),s("td",null,a(t.currencyname),1),s("td",null,[s("span",{class:i(["badge font-size-13",t.total_rasid>0?"bg-success":"bg-warning"])},a(t.total_rasid.toLocaleString()),3)]),s("td",null,[s("span",{class:i(["badge font-size-13",t.total_bord>0?"bg-danger":"bg-warning"])},a(t.total_bord.toLocaleString()),3)]),s("td",Bs,[s("span",{class:i(["badge font-size-13",t.blance>0?"bg-success":t.blance===0?"bg-warning":"bg-danger"])},a(t.blance.toLocaleString()),3)]),s("td",null,[s("button",{type:"button",class:"btn btn-primary btn-sm btn-rounded",onClick:r=>d.gobankDesc(t.id)}," دیدن جزئیات ",8,zs)])]))),128))])])]),s("ul",Ss,[s("li",Cs,[s("a",{class:"page-link",href:"javascript: void(0);","aria-label":"Previous",onClick:n[0]||(n[0]=(...t)=>d.prevPage&&d.prevPage(...t)),disabled:l.currentPage===1},Is,8,js)]),(c(!0),o(u,null,b(l.totalPages,(t,r)=>(c(),o("li",{class:i(["page-item",{active:t===l.currentPage}]),key:r},[s("a",As,a(t),1)],2))),128)),s("li",Fs,[s("a",{class:"page-link",href:"javascript: void(0);","aria-label":"Next",onClick:n[1]||(n[1]=(...t)=>d.nextPage&&d.nextPage(...t)),disabled:l.currentPage===l.totalPages},$s,8,Ns)])])]))])])])])]),_:1})}const qs=v($,[["render",Es]]);export{qs as default};
